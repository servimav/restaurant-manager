import{Q as S}from"./QChip.2f03b717.js";import{c as C,g as U,r as b,q as W,t as J,j as f,T as K,k as G,ax as X,d as D,o as _,e as p,w as v,f as o,J as l,u as r,ay as w,as as V,K as N,at as P,az as Y,ai as Z,av as T,aA as E,Q as z,L as Q}from"./index.04fb470e.js";const ee={ratio:[String,Number]};function te(e,i){return C(()=>{const s=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(s)!==!0&&s>0?{paddingBottom:`${100/s}%`}:null})}const ae=16/9;var A=U({name:"QImg",props:{...ee,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ae},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:s}){const g=b(e.initialRatio),n=te(e,g);let a;const u=[b(null),b(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],m=b(0),d=b(!1),c=b(!1),q=C(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),B=C(()=>({width:e.width,height:e.height})),$=C(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),k=C(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>h(),I);function h(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function I(t){if(clearTimeout(a),c.value=!1,t===null){d.value=!1,u[0].value=null,u[1].value=null;return}d.value=!0,u[m.value].value=t}function F({target:t}){a!==null&&(clearTimeout(a),g.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,R(t,1))}function R(t,y){a===null||y===1e3||(t.complete===!0?L(t):a=setTimeout(()=>{R(t,y+1)},50))}function L(t){a!==null&&(m.value=m.value===1?0:1,u[m.value].value=null,d.value=!1,c.value=!1,s("load",t.currentSrc||t.src))}function M(t){clearTimeout(a),d.value=!1,c.value=!0,u[0].value=null,u[1].value=null,s("error",t)}function O(t,y){return f("div",{class:"q-img__container absolute-full",key:t},y)}function j(t){const y=u[t].value,x={key:"img_"+t,class:$.value,style:k.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...y};return m.value===t?(x.class+=" q-img__image--waiting",Object.assign(x,{onLoad:F,onError:M})):x.class+=" q-img__image--loaded",O("img"+t,f("img",x))}function H(){return d.value!==!0?f("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},G(i[c.value===!0?"error":"default"])):f("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[f(X,{color:e.spinnerColor,size:e.spinnerSize})])}return I(h()),J(()=>{clearTimeout(a),a=null}),()=>{const t=[];return n.value!==null&&t.push(f("div",{key:"filler",style:n.value})),c.value!==!0&&(u[0].value!==null&&t.push(j(0)),u[1].value!==null&&t.push(j(1))),t.push(f(K,{name:"q-transition--fade"},H)),f("div",{class:q.value,style:B.value,role:"img","aria-label":e.alt},t)}}});const le={class:"absolute-bottom-right",style:{padding:"0px","background-color":"transparent"}},ie={class:"absolute-top-right",style:{padding:"0px","background-color":"transparent"}},ne={class:"absolute-bottom-left",style:{padding:"0px","background-color":"transparent"}},oe={class:"text-caption"},Ne=D({__name:"ProductWidget",props:{data:null},setup(e){return(i,s)=>(_(),p(P,null,{default:v(()=>[o(A,{ratio:1,src:e.data.image,class:"full-width"},{default:v(()=>{var g;return[l("div",le,[o(S,{label:(g=e.data.category)==null?void 0:g.title,dense:""},null,8,["label"])]),l("div",ie,[o(S,{dense:"","text-color":"white",color:e.data.onsale?"positive":"negative",label:e.data.onsale?"Disponible":"No Disponible"},null,8,["color","label"])]),l("div",ne,[o(S,{dense:"",label:r(w)(e.data.sell_price)},null,8,["label"])])]}),_:1},8,["src"]),o(V,null,{default:v(()=>[l("div",oe,N(e.data.title),1)]),_:1})]),_:1}))}});const se={class:"v__input__spinner"},ue=["disabled"],re=["value","min","max","disabled"],de=["disabled"],ce=D({__name:"InputSpinner",props:{modelValue:{default:0},min:{default:1},max:{default:100},step:{default:1},inputClass:{default:"vnis__input"},mouseDownSpeed:{default:100},buttonClass:{default:"v-isn__button"},integerOnly:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:model-value"],setup(e,{emit:i}){const s=e,{buttonClass:g,disabled:n,inputClass:a,max:u,min:m,modelValue:d,step:c}=Y(s);function q(){(isNaN(m.value)||Number(d.value)-c.value>m.value)&&i("update:model-value",Number(d.value)-c.value)}function B(){(isNaN(u.value)||Number(d.value)+c.value<u.value)&&i("update:model-value",Number(d.value)+c.value)}function $(k){const h=k.target.value;isNaN(h)||i("update:model-value",h)}return(k,h)=>(_(),Z("div",se,[l("button",{onClick:q,style:{width:"30%",height:"2.5rem"},class:T(r(g)),disabled:r(n)}," - ",10,ue),l("input",{type:"number",value:r(d),onInput:$,class:T(r(a)),min:r(m),max:r(u),debounce:"500",disabled:r(n),style:{height:"2.5rem",width:"40%"}},null,42,re),l("button",{onClick:B,style:{width:"30%",height:"2.5rem"},class:T(r(g)),disabled:r(n)}," + ",10,de)]))}}),ge={class:"full-width"},me={class:"row q-col-gutter-sm"},ve={class:"col-xs-4"},fe={class:"col"},be={class:"absolute-bottom-right",style:{padding:"0px","background-color":"transparent"}},he={class:"absolute-top-right",style:{padding:"0px","background-color":"transparent"}},ye={class:"absolute-bottom-left",style:{padding:"0px","background-color":"transparent"}},_e={class:"text-h6"},Se={class:"text-subtitle2"},ke=D({__name:"ProductDetailed",props:{data:null,editable:{type:Boolean},cart:{type:Boolean}},emits:["remove","edit","addToCart"],setup(e,{emit:i}){const s=b(1);return(g,n)=>(_(),p(P,null,{default:v(()=>[e.cart?(_(),p(E,{key:0},{default:v(()=>[l("div",ge,[l("div",me,[l("div",ve,[o(ce,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=a=>s.value=a),min:1,"button-class":"bg-primary"},null,8,["modelValue"])]),l("div",fe,[o(z,{outline:"",color:"primary",style:{height:"2.5rem"},icon:"mdi-cart-plus",label:"A\xF1adir",class:"full-width",onClick:n[1]||(n[1]=a=>i("addToCart",{product:e.data,qty:s.value}))})])])])]),_:1})):Q("",!0),o(A,{ratio:4/3,src:e.data.image,class:"full-width"},{default:v(()=>{var a;return[l("div",be,[o(S,{label:(a=e.data.category)==null?void 0:a.title},null,8,["label"])]),l("div",he,[o(S,{"text-color":"white",color:e.data.onsale?"positive":"negative",label:e.data.onsale?"Disponible":"No Disponible"},null,8,["color","label"])]),l("div",ye,[o(S,{label:r(w)(e.data.sell_price)},null,8,["label"])])]}),_:1},8,["src"]),o(V,null,{default:v(()=>[l("div",_e,N(e.data.title),1),l("div",Se,N(e.data.description),1)]),_:1}),e.editable?(_(),p(V,{key:1},{default:v(()=>[l("p",null,"Produccion: "+N(r(w)(e.data.production_price)),1),l("p",null,"Precio Tope: "+N(r(w)(e.data.top_price)),1)]),_:1})):Q("",!0),e.editable?(_(),p(E,{key:2},{default:v(()=>[o(z,{label:"Editar",icon:"mdi-pencil",color:"primary",onClick:n[2]||(n[2]=a=>i("edit",e.data))}),o(z,{outline:"",color:"negative",label:"Eliminar",icon:"mdi-delete",onClick:n[3]||(n[3]=a=>i("remove",e.data))})]),_:1})):Q("",!0)]),_:1}))}});export{ke as _,Ne as a};
