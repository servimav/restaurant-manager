import{d as g,ag as k,c as m,r as E,ah as v,aq as M,o as t,e as i,w as r,O as Q,u as o,at as V,f as s,aI as w,as as u,ai as p,am as x,al as B,J as L,K as O,Q as f,L as T,R as _,ay as $}from"./index.04fb470e.js";import{Q as I}from"./QPage.35b7a6ff.js";import{_ as S}from"./OrderOfferWidget.2264d2bf.js";import{i as U}from"./index.6925d095.js";import{u as y}from"./notification.bcef4808.js";import"./QChip.2f03b717.js";import"./router.1722d853.js";const P={class:"text-body1",style:{"margin-top":"2rem"}},J=g({__name:"ClientCartPage",setup(R){const h=k(),c=U(Q),l=m(()=>c.cart),d=E(1),C=m(()=>{let a=0;return l.value.forEach(e=>{e.product&&(a+=e.product.sell_price*e.qty)}),a});async function b(){try{const a=await c.create({order_products:l.value,table_number:1});y.success([`La Orden #${a.data.id} ha sido creada`]),h.push({name:_.CLIENT_MENU})}catch(a){y.axiosError(a)}}return v(()=>{M("Carrito")}),(a,e)=>(t(),i(I,{padding:""},{default:r(()=>[o(l).length?(t(),i(V,{key:0,class:"no-box-shadow"},{default:r(()=>[s(u,null,{default:r(()=>[s(w,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=n=>d.value=n),type:"number",min:"1",label:"No. Mesa"},null,8,["modelValue"])]),_:1}),s(u,null,{default:r(()=>[(t(!0),p(B,null,x(o(l),(n,N)=>(t(),p("div",{key:`order-offer-${n.product_id}-${N}`,class:"mt-sm"},[s(S,{data:n,details:""},null,8,["data"])]))),128)),L("div",P," Total: "+O(o($)(o(C))),1)]),_:1}),o(l).length?(t(),i(u,{key:0},{default:r(()=>[s(f,{color:"primary",icon:"mdi-check",class:"full-width",label:"Completar",onClick:b})]),_:1})):T("",!0)]),_:1})):(t(),i(u,{key:1},{default:r(()=>[s(f,{color:"primary",icon:"mdi-cart-plus",class:"full-width",outline:"",label:"Ver Menu",to:{name:o(_).CLIENT_MENU}},null,8,["to"])]),_:1}))]),_:1}))}});export{J as default};
